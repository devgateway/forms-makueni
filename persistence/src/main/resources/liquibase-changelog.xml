<!--
    Copyright (c) 2015 Development Gateway, Inc and others.

    All rights reserved. This program and the accompanying materials
    are made available under the terms of the MIT License (MIT)
    which accompanies this distribution, and is available at
    https://opensource.org/licenses/MIT

    Contributors:
    Development Gateway - initial API and implementation
-->
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="add-default-group" author="mpostelnicu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="CATEGORY"/>
        </preConditions>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="group1"/>
            <column name="DTYPE" value="Group"/>
        </insert>
    </changeSet>

    <changeSet id="add-default-roles" author="mpostelnicu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="ROLE"/>
        </preConditions>
        <insert tableName="ROLE">
            <column name="ID" value="1"/>
            <column name="AUTHORITY" value="ROLE_USER"/>
        </insert>
        <insert tableName="ROLE">
            <column name="ID" value="2"/>
            <column name="AUTHORITY" value="ROLE_ADMIN"/>
        </insert>
        <insert tableName="ROLE">
            <column name="ID" value="3"/>
            <column name="AUTHORITY" value="ROLE_VALIDATOR"/>
        </insert>
    </changeSet>

    <changeSet id="7" author="mpostelnicu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="PERSON_ROLES"/>
            <tableExists tableName="ROLE"/>
            <tableExists tableName="PERSON"/>
        </preConditions>
        <sqlFile path="Person.sql"/>
    </changeSet>

    <changeSet id="8" author="mpostelnicu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="PERSON_ROLES"/>
            <tableExists tableName="ROLE"/>
            <tableExists tableName="PERSON"/>
        </preConditions>
        <sqlFile path="Person_roles.sql"/>
    </changeSet>

    <changeSet id="OCMAKU-14" author="idobre">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="CATEGORY"/>
        </preConditions>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Office of the Governor"/>
            <column name="CODE" value="D1"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Public Service Board"/>
            <column name="CODE" value="D2"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Makueni County Service (County Secretary)"/>
            <column name="CODE" value="D3"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Devolution, County Administration, Participatory Development and Public Service"/>
            <column name="CODE" value="D4"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Finance and Social Economic Planning"/>
            <column name="CODE" value="D5"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Agriculture, Irrigation, Livestock and Fisheries Development"/>
            <column name="CODE" value="D6"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Water, Sanitation, Environment and Climate Change"/>
            <column name="CODE" value="D7"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Education, Youth, Sports and ICT"/>
            <column name="CODE" value="D8"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Health Services"/>
            <column name="CODE" value="D9"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Lands, Mining, Housing, Physical Planning and Urban Development"/>
            <column name="CODE" value="D10"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Roads, Transport, Energy and Public Works"/>
            <column name="CODE" value="D11"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Trade, Industry, Marketing, Tourism and Co-operative Development"/>
            <column name="CODE" value="D12"/>
            <column name="DTYPE" value="Department"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Gender, Children, Culture and Social Services"/>
            <column name="CODE" value="D13"/>
            <column name="DTYPE" value="Department"/>
        </insert>
    </changeSet>

    <changeSet id="OCMAKU-13" author="idobre">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="CATEGORY"/>
        </preConditions>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Direct"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Open tender national"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="RF proposal"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="RFQ"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Restricted tender"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Special permitted"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Low value procurement"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Open tender International"/>
            <column name="DTYPE" value="ProcurementMethod"/>
        </insert>
    </changeSet>

    <changeSet id="OCMAKU-17" author="idobre">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="CATEGORY"/>
        </preConditions>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Youth"/>
            <column name="DTYPE" value="TargetGroup"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Women"/>
            <column name="DTYPE" value="TargetGroup"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="PWD"/>
            <column name="DTYPE" value="TargetGroup"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Citizen Contractor"/>
            <column name="DTYPE" value="TargetGroup"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Margin of Preference for Local Contractor"/>
            <column name="DTYPE" value="TargetGroup"/>
        </insert>
    </changeSet>

    <changeSet id="OCMAKU-35" author="gmutuhu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="CATEGORY"/>
        </preConditions>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Development"/>
            <column name="DTYPE" value="ChargeAccount"/>
        </insert>

        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Recurrent"/>
            <column name="DTYPE" value="ChargeAccount"/>
        </insert>
    </changeSet>

    <changeSet id="OCMAKU-34" author="gmutuhu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="CATEGORY"/>
        </preConditions>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Tender Form and Price schedule"/>
            <column name="DTYPE" value="ContractDocumentType"/>
        </insert>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Schedule of Requirements"/>
            <column name="DTYPE" value="ContractDocumentType"/>
        </insert>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Details of Cover"/>
            <column name="DTYPE" value="ContractDocumentType"/>
        </insert>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Conditions of the Contract"/>
            <column name="DTYPE" value="ContractDocumentType"/>
        </insert>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Special Conditions of Contract"/>
            <column name="DTYPE" value="ContractDocumentType"/>
        </insert>
        <insert tableName="CATEGORY">
            <column name="ID" valueComputed="nextval('hibernate_sequence')"/>
            <column name="LABEL" value="Procuring Entity Notification of Award"/>
            <column name="DTYPE" value="ContractDocumentType"/>
        </insert>
    </changeSet>

    <changeSet id="OCMAKU-37" author="gmutuhu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="category"/>
        </preConditions>
        <sqlFile path="Items.sql"/>
    </changeSet>

    <changeSet id="OCMAKU-117" author="gmutuhu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="category"/>
        </preConditions>
        <sqlFile path="Metadata1.sql"/>
    </changeSet>

    <changeSet id="OCMAKU-117-staff" author="gmutuhu">
        <preConditions onFail="CONTINUE">
            <tableExists tableName="category"/>
        </preConditions>
        <sqlFile path="Metadata2.sql"/>
    </changeSet>
</databaseChangeLog>
